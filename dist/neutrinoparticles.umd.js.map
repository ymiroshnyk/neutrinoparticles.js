{"version":3,"file":"neutrinoparticles.umd.js","sources":["../src/Math.js","../src/FrameInterpolator.js","../src/Generator.js","../src/GeneratorPeriodic.js","../src/GeneratorDist.js","../src/TerminatorCondit.js","../src/EmitterParticlesPool.js","../src/Emitter.js","../src/Effect.js"],"sourcesContent":["export function equalv3_(a, b) {\n\treturn a[0] == b[0] && a[1] == b[1] && a[2] == b[2];\n}\n\nexport function equalv3eps_(a, b, eps) {\n\treturn Math.abs(a[0] - b[0]) <= eps &&\n\t\tMath.abs(a[1] - b[1]) <= eps &&\n\t\tMath.abs(a[2] - b[2]) <= eps;\n}\n\nexport function equalq_(a, b) {\n\treturn a[0] == b[0] && a[1] == b[1] && a[2] == b[2] && a[3] == b[3];\n}\n\nexport function equalqeps_(a, b, eps) {\n\treturn Math.abs(a[0] - b[0]) <= eps &&\n\t\tMath.abs(a[1] - b[1]) <= eps &&\n\t\tMath.abs(a[2] - b[2]) <= eps &&\n\t\tMath.abs(a[3] - b[3]) <= eps;\n}\n\nexport function addv2 (r, a, b) {\n\tr[0] = a[0] + b[0];\n\tr[1] = a[1] + b[1];\n}\n\nexport function addv2_ (a, b) {\n\treturn [a[0] + b[0], a[1] + b[1]];\n}\n\nexport function addv2scalar (r, a, s) {\n\tr[0] = a[0] + s;\n\tr[1] = a[1] + s;\n}\n\nexport function addv2scalar_ (a, s) {\n\treturn [a[0] + s, a[1] + s];\n}\n\nexport function addv3 (r, a, b) {\n\tr[0] = a[0] + b[0];\n\tr[1] = a[1] + b[1];\n\tr[2] = a[2] + b[2];\n}\n\nexport function addv3_ (a, b) {\n\treturn [a[0] + b[0], a[1] + b[1], a[2] + b[2]];\n}\n\nexport function addv3scalar (r, a, s) {\n\tr[0] = a[0] + s;\n\tr[1] = a[1] + s;\n\tr[2] = a[2] + s;\n}\n\nexport function addv3scalar_ (a, s) {\n\treturn [a[0] + s, a[1] + s, a[2] + s];\n}\n\nexport function addq (r, a, b) {\n\tr[0] = a[0] + b[0];\n\tr[1] = a[1] + b[1];\n\tr[2] = a[2] + b[2];\n\tr[3] = a[3] + b[3];\n}\n\nexport function addq_ (a, b) {\n\treturn [a[0] + b[0], a[1] + b[1], a[2] + b[2], a[3] + b[3]];\n}\n\nexport function subv2 (r, a, b) {\n\tr[0] = a[0] - b[0];\n\tr[1] = a[1] - b[1];\n}\n\nexport function subv2_ (a, b) {\n\treturn [a[0] - b[0], a[1] - b[1]];\n}\n\nexport function subv2scalar (r, a, s) {\n\tr[0] = a[0] - s;\n\tr[1] = a[1] - s;\n}\n\nexport function subv2scalar_ (a, s) {\n\treturn [a[0] - s, a[1] - s];\n}\n\nexport function subscalarv2 (r, s, a) {\n\tr[0] = s - a[0];\n\tr[1] = s - a[1];\n}\n\nexport function subscalarv2_ (s, a) {\n\treturn [s - a[0], s - a[1]];\n}\n\nexport function subv3 (r, a, b) {\n\tr[0] = a[0] - b[0];\n\tr[1] = a[1] - b[1];\n\tr[2] = a[2] - b[2];\n}\n\nexport function subv3_ (a, b) {\n\treturn [a[0] - b[0], a[1] - b[1], a[2] - b[2]];\n}\n\nexport function subv3scalar (r, a, s) {\n\tr[0] = a[0] - s;\n\tr[1] = a[1] - s;\n\tr[2] = a[2] - s;\n}\n\nexport function subv3scalar_ (a, s) {\n\treturn [a[0] - s, a[1] - s, a[2] - s];\n}\n\nexport function subscalarv3 (r, s, a) {\n\tr[0] = s - a[0];\n\tr[1] = s - a[1];\n\tr[2] = s - a[2];\n}\n\nexport function subscalarv3_ (s, a) {\n\treturn [s - a[0], s - a[1], s - a[2]];\n}\n\nexport function mulv2 (r, a, b) {\n\tr[0] = a[0] * b[0];\n\tr[1] = a[1] * b[1];\n}\n\nexport function mulv2_ (a, b) {\n\treturn [a[0] * b[0], a[1] * b[1]];\n}\n\nexport function mulv3 (r, a, b) {\n\tr[0] = a[0] * b[0];\n\tr[1] = a[1] * b[1];\n\tr[2] = a[2] * b[2];\n}\n\nexport function mulv3_ (a, b) {\n\treturn [a[0] * b[0], a[1] * b[1], a[2] * b[2]];\n}\n\nexport function divv2 (r, a, b) {\n\tr[0] = a[0] / b[0];\n\tr[1] = a[1] / b[1];\n}\n\nexport function divv2_ (a, b) {\n\treturn [a[0] / b[0], a[1] / b[1]];\n}\n\nexport function divv3 (r, a, b) {\n\tr[0] = a[0] / b[0];\n\tr[1] = a[1] / b[1];\n\tr[2] = a[2] / b[2];\n}\n\nexport function divv3_(a, b) {\n\treturn [a[0] / b[0], a[1] / b[1], a[2] / b[2]];\n}\n\nexport function dotv3_(a, b) {\n\treturn a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function dotq_(a, b) {\n\treturn a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\nexport function mulv2scalar(r, a, s) {\n\tr[0] = a[0] * s;\n\tr[1] = a[1] * s;\n}\n\nexport function mulv2scalar_(a, s) {\n\treturn [a[0] * s, a[1] * s];\n}\n\nexport function divv2scalar (r, a, s) {\n\tr[0] = a[0] / s;\n\tr[1] = a[1] / s;\n}\n\nexport function divv2scalar_ (a, s) {\n\treturn [a[0] / s, a[1] / s];\n}\n\nexport function mulv3scalar (r, a, s) {\n\tr[0] = a[0] * s;\n\tr[1] = a[1] * s;\n\tr[2] = a[2] * s;\n}\n\nexport function mulv3scalar_ (a, s) {\n\treturn [a[0] * s, a[1] * s, a[2] * s];\n}\n\nexport function divv3scalar (r, a, s) {\n\tr[0] = a[0] / s;\n\tr[1] = a[1] / s;\n\tr[2] = a[2] / s;\n}\n\nexport function divv3scalar_ (a, s) {\n\treturn [a[0] / s, a[1] / s, a[2] / s];\n}\n\nexport function dotv2_ (a, b) {\n\treturn a[0] * b[0] + a[1] * b[1];\n}\n\nexport function crossv3 (r, a, b) {\n\tvar ax = a[0], ay = a[1], az = a[2];\n\tvar bx = b[0], by = b[1], bz = b[2];\n\n\tr[0] = ay * bz - az * by\n\tr[1] = az * bx - ax * bz;\n\tr[2] = ax * by - ay * bx;\n}\n\nexport function crossv3_ (a, b) {\n\tvar ax = a[0], ay = a[1], az = a[2];\n\tvar bx = b[0], by = b[1], bz = b[2];\n\n\treturn [ay * bz - az * by,\n\t\taz * bx - ax * bz,\n\t\tax * by - ay * bx];\n}\n\nexport function lengthv2_ (a) {\n\treturn Math.sqrt(a[0] * a[0] + a[1] * a[1]);\n}\n\nexport function lengthv2sq_ (a) {\n\treturn a[0] * a[0] + a[1] * a[1];\n}\n\nexport function normalizev2 (r, a) {\n\tmulv2scalar(r, a, 1.0 / lengthv2_(a));\n}\n\nexport function normalizev2_ (a) {\n\treturn mulv2scalar_(a, 1.0 / lengthv2_(a));\n}\n\nexport function lengthv3_ (a) {\n\treturn Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);\n}\n\nexport function lengthv3sq_ (a) {\n\treturn a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n}\n\nexport function normalizev3 (r, a) {\n\tmulv3scalar(r, a, 1.0 / lengthv3_(a));\n}\n\nexport function normalizev3_ (a) {\n\treturn mulv3scalar_(a, 1.0 / lengthv3_(a));\n}\n\nexport function copyv2 (r, a) {\n\tr[0] = a[0];\n\tr[1] = a[1];\n}\n\nexport function copyv3 (r, a) {\n\tr[0] = a[0];\n\tr[1] = a[1];\n\tr[2] = a[2];\n}\n\nexport function copyq (r, a) {\n\tr[0] = a[0];\n\tr[1] = a[1];\n\tr[2] = a[2];\n\tr[3] = a[3];\n}\n\nexport function setv2 (r, x, y) {\n\tr[0] = x;\n\tr[1] = y;\n}\n\nexport function setv3 (r, x, y, z) {\n\tr[0] = x;\n\tr[1] = y;\n\tr[2] = z;\n}\n\nexport function lerp_ (a, b, i) {\n\treturn a + (b - a) * i;\n}\n\nexport function lerpv2 (r, a, b, i) {\n\tr[0] = a[0] + (b[0] - a[0]) * i;\n\tr[1] = a[1] + (b[1] - a[1]) * i;\n}\n\nexport function lerpv2_ (a, b, i) {\n\treturn [a[0] + (b[0] - a[0]) * i,\n\t\ta[1] + (b[1] - a[1]) * i];\n}\n\nexport function lerpv3 (r, a, b, i) {\n\tr[0] = a[0] + (b[0] - a[0]) * i;\n\tr[1] = a[1] + (b[1] - a[1]) * i;\n\tr[2] = a[2] + (b[2] - a[2]) * i;\n}\n\nexport function lerpv3_ (a, b, i) {\n\treturn [a[0] + (b[0] - a[0]) * i,\n\t\ta[1] + (b[1] - a[1]) * i,\n\t\ta[2] + (b[2] - a[2]) * i];\n}\n\nexport function slerpq(r, x, y, a) {\n\tvar cosTheta = dotq_(x, y);\n\t\n\tvar z = [];\n\t\n\tif (cosTheta < 0) {\n\t\tnegq(z, y);\n\t\tcosTheta = -cosTheta;\n\t}\n\telse {\n\t\tcopyq(z, y);\n\t}\n\t\n\tif ((1.0 - cosTheta) < Number.EPSILON) {\n\t\tr[0] = lerp_(x[0], y[0], a);\n\t\tr[1] = lerp_(x[1], y[1], a);\n\t\tr[2] = lerp_(x[2], y[2], a);\n\t\tr[3] = lerp_(x[3], y[3], a);\n\t}\n\telse {\n\t\tvar angle = acos_(cosTheta);\n\t\t\n\t\tmulqscalar(r, addq_(mulqscalar_(x, sin_((1.0 - a) * angle)), mulqscalar_(z, sin_(a * angle))),\n\t\t\t1.0 / sin_(angle));\n\t}\n}\n\nexport function slerpq_(x, y, a) {\n\tvar r = [];\n\tslerpq(r, x, y, a);\n\treturn r;\n}\n\n//trigonometry\n\nexport function acos_(a) {\n\treturn Math.acos(a);\n}\n\nexport function sin_(a) {\n\treturn Math.sin(a);\n}\n\nexport function cos_(a) {\n\treturn Math.cos(a);\n}\n\nexport function negv2 (r, a) {\n\tsetv2(r, -a[0], -a[1]);\n}\n\nexport function negv2_ (a) {\n\treturn [-a[0], -a[1]];\n}\n\nexport function negv3 (r, a) {\n\tsetv3(r, -a[0], -a[1], -a[2]);\n}\n\nexport function negv3_ (a) {\n\treturn [-a[0], -a[1], -a[2]];\n}\n\nexport function negq (r, a) {\n\tr[0] = -a[0];\n\tr[1] = -a[1];\n\tr[2] = -a[2];\n\tr[3] = -a[3];\n}\n\nexport function negq_(a) {\n\treturn [-a[0], -a[1], -a[2], -a[3]];\n}\n\nexport function deg2rad_ (degrees) {\n\treturn degrees / 180.0 * Math.PI;\n}\n\nexport function rad2deg_ (radians) {\n\treturn radians / Math.PI * 180.0;\n}\n\nexport function sign_(value) {\n\treturn value < 0 ? -1 : 1;\n}\n\nexport function quat2axes (x, y, z, q) {\n\tvar x2 = 2.0 * q[0] * q[0];\n\tvar y2 = 2.0 * q[1] * q[1];\n\tvar z2 = 2.0 * q[2] * q[2];\n\tvar xy = 2.0 * q[0] * q[1];\n\tvar xz = 2.0 * q[0] * q[2];\n\tvar yz = 2.0 * q[1] * q[2];\n\tvar wz = 2.0 * q[3] * q[2];\n\tvar wy = 2.0 * q[3] * q[1];\n\tvar wx = 2.0 * q[3] * q[0];\n\n\tx[0] = 1.0 - y2 - z2;\n\tx[1] = xy + wz;\n\tx[2] = xz - wy;\n\n\ty[0] = xy - wz;\n\ty[1] = 1.0 - x2 - z2;\n\ty[2] = yz + wx;\n\n\tz[0] = xz + wy;\n\tz[1] = yz - wx;\n\tz[2] = 1.0 - x2 - y2;\n}\n\nexport function axes2quat (q, x, y, z) {\n\tvar tr = x[0] + y[1] + z[2]\n\n\tif (tr > 0) { \n\t\tvar S = Math.sqrt(tr+1.0) * 2; \n\t\tq[3] = 0.25 * S;\n\t\tq[0] = (y[2] - z[1]) / S;\n\t\tq[1] = (z[0] - x[2]) / S;\n\t\tq[2] = (x[1] - y[0]) / S;\n\t} else if ((x[0] > y[1])&(x[0] > z[2])) { \n\t\tvar S = Math.sqrt(1.0 + x[0] - y[1] - z[2]) * 2;\n\t\tq[3] = (y[2] - z[1]) / S;\n\t\tq[0] = 0.25 * S;\n\t\tq[1] = (x[1] + y[0]) / S;\n\t\tq[2] = (z[0] + x[2]) / S;\n\t} else if (y[1] > z[2]) { \n\t\tvar S = Math.sqrt(1.0 + y[1] - x[0] - z[2]) * 2; \n\t\tq[3] = (z[0] - x[2]) / S;\n\t\tq[0] = (x[1] + y[0]) / S;\n\t\tq[1] = 0.25 * S;\n\t\tq[2] = (y[2] + z[1]) / S;\n\t} else { \n\t\tvar S = Math.sqrt(1.0 + z[2] - x[0] - y[1]) * 2;\n\t\tq[3] = (x[1] - y[0]) / S;\n\t\tq[0] = (z[0] + x[2]) / S;\n\t\tq[1] = (y[2] + z[1]) / S;\n\t\tq[2] = 0.25 * S;\n\t}\n}\n\nexport function axisangle2quat (q, x, a) {\n\tvar ha =  deg2rad_(a) * 0.5, s = Math.sin(ha);\n\tq[0] = x[0] * s;\n\tq[1] = x[1] * s;\n\tq[2] = x[2] * s;\n\tq[3] = Math.cos(ha);\n}\n\nexport function axisangle2quat_ (x, a) {\n\tvar ha =  deg2rad_(a) * 0.5, s = Math.sin(ha);\n\treturn [x[0] * s, x[1] * s, x[2] * s,  cos_(ha)];\n}\n\nexport function applyv3quat (r, v, q) {\n\tvar x = v[0];\n\tvar y = v[1];\n\tvar z = v[2];\n\n\tvar qx = q[0];\n\tvar qy = q[1];\n\tvar qz = q[2];\n\tvar qw = q[3];\n\n\tvar ix = qw * x + qy * z - qz * y;\n\tvar iy = qw * y + qz * x - qx * z;\n\tvar iz = qw * z + qx * y - qy * x;\n\tvar iw = -qx * x - qy * y - qz * z;\n\n\tr[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n\tr[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n\tr[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n}\n\nexport function mulq (r, a, b) {\n\tvar qax = a[0], qay = a[1], qaz = a[2], qaw = a[3];\n\tvar qbx = b[0], qby = b[1], qbz = b[2], qbw = b[3];\n\n\tr[0] = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\tr[1] = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\tr[2] = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\tr[3] = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n}\n\nexport function mulqscalar (r, a, s) {\n\tr[0] = a[0] * s;\n\tr[1] = a[1] * s;\n\tr[2] = a[2] * s;\n\tr[3] = a[3] * s;\n}\n\nexport function mulqscalar_ (a, s) {\n\treturn [a[0] * s, a[1] * s, a[2] * s, a[3] * s];\n}\n\nexport function transform (r, pos, degree, scale, v) {\n\tvar rad =  deg2rad_(degree);\n\tvar cos = Math.cos(rad) * scale;\n\tvar sin = Math.sin(rad) * scale;\n\tr[0] = pos[0] + cos * v[0] - sin * v[1];\n\tr[1] = pos[1] + sin * v[0] + cos * v[1];\n}\n\nexport function invtransform (r, pos, degree, scale, v) {\n\tvar rad =  deg2rad_(degree);\n\tvar cos = Math.cos(rad) / scale;\n\tvar sin = Math.sin(rad) / scale;\n\n\tr[0] = cos * v[0] + sin * v[1] - pos[0] * cos - pos[1] * sin;\n\tr[1] = cos * v[1] - sin * v[0] + pos[0] * sin - pos[1] * cos;\n}\n","'use strict';\n\nimport * as math from './Math'\n\nexport class FrameInterpolator {\n    constructor(emitter) {\n        this.effect = emitter.effect;\n        this.emitter = emitter;\n        this.position = false;\n        this.startEmitterPosition = [];\n        this.endEmitterPosition = [];\n        this.rotation = false;\n        this.startEmitterRotation = [];\n        this.endEmitterRotation = [];\n    }\n\n    // only for effect\n    begin(dt, endPosition, endRotation) {\n        this.startEffectTime = this.effect.time;\n        this.startEmitterTime = this.emitter.time;\n        \n        this.endEffectTime = this.startEffectTime + dt;\n        this.endEmitterTime = this.startEmitterTime + dt;\n\n        \n        if (endPosition) {\n            this.position = true;\n            math.copyv3(this.startEmitterPosition, this.emitter.position);\n            math.copyv3(this.endEmitterPosition, endPosition);\n        }\n        \n        if (endRotation) {\n            this.rotation = true;\n            math.copyq(this.startEmitterRotation, this.emitter.rotation);\n            math.copyq(this.endEmitterRotation, endRotation);\n        }\n    }\n\n    set(interp) {\n        this.effect.time = math.lerp_(this.startEffectTime, this.endEffectTime, interp);\n        this.emitter.time = math.lerp_(this.startEmitterTime, this.endEmitterTime, interp);\n\n        if (this.position)\n            math.lerpv3(this.emitter.position, this.startEmitterPosition, this.endEmitterPosition, interp);\n\n        if (this.rotation)\n            math.slerpq(this.emitter.rotation, this.startEmitterRotation, this.endEmitterRotation, interp);\n    }\n\n    // only for effect\n    end() {\n        this.effect.time = this.endEffectTime;\n        this.emitter.time = this.endEmitterTime;\n\n        if (this.position)\n            math.copyv3(this.emitter.position, this.endEmitterPosition);\n\n        if (this.rotation)\n            math.copyq(this.emitter.rotation, this.endEmitterRotation);\n    }\n\n    get emitterTime() {\n        return this.emitter.time;\n    }\n\n    get positionDisplaceLength() {\n        return this.position ? math.lengthv3_(ctx.subv3_(this.endEmitterPosition, \n            this.startEmitterPosition)) : 0;\n    }\n}\n","'use strict';\n\n/*class GeneratorEmitterInterface {\n    constructor(emitter) {\n    }\n\n    initGenerator(generator) {\n    }\n\n    updateGenerator(dt, generator) {\n    }\n\n    shootParticle() {\n    }\n\n    disactivateEmitter() {\n    }\n};*/\n\nexport class Generator {\n    constructor(emitter) {\n        this.emitter = emitter;\n    }\n\n    initiate() {\n        this.burstPos = 0;\n        this.burstCount = 1;        \n    }\n\n    burstParticles(frameTimeToSimulate) {\n        var particlesShot = 0;\n\n        var intBurstCount = Math.max(Math.trunc(this.burstCount), 0);\n\n        for (var partIndex = 0; partIndex < intBurstCount; ++partIndex) {\n            if (intBurstCount == 1)\n                this.burstPos = 0;\n            else\n                this.burstPos = partIndex / (intBurstCount - 1);\n\n            let particle = this.emitter.shootParticle(partIndex == 0, frameTimeToSimulate);\n\n            if (!particle)\n                break;\n\n            ++particlesShot;\n        }\n\n        return particlesShot;\n    }\n}\n\nexports.Generator = Generator;","'use strict';\n\nimport { Generator } from './Generator'\n\nexport class GeneratorPeriodic extends Generator {\n\n    constructor(emitter, model) {\n        super(emitter);\n\n        this.model = model;\n        this.emitter = emitter;\n        this.initiate();\n    }\n\n    initiate() {\n        super.initiate();\n\n        this.startPhase = 1;\n        this.fixedTime = null;\n        this.fixedShots = null;\n        this.burstSize = 1;\n        this.rate = 0;\n        //this.spentParticle;\n        //this.shotsMade\n\n        if (this.model.init) {\n            this.model.init(this);\n        }\n\n        this.spentParticle = this.startPhase;\n        this.shotsMade = 0;\n    }\n\n    update(dt, frameInterp) {\n        if (this.model.update) {\n            this.model.update(this, dt);\n        }\n\n        if (this.rate < 0.0001)\n            return;\n\n        let frameTimeLeft = dt;\n        let particlesShot = 0;\n        let shotsToMake = this.spentParticle + dt * this.rate;\n\n        while (shotsToMake >= 1.0) {\n            let spentTime = (1.0 - this.spentParticle) / this.rate;\n            frameTimeLeft -= spentTime;\n\n            if (dt > 0.0001)\n                frameInterp.set(1 - frameTimeLeft / dt);\n            else\n                frameInterp.set(0);\n\n            if (this.fixedTime != null && frameInterp.emitterTime > this.fixedTime) {\n                this.emitter.disactivate();\n                break;\n            }\n\n            particlesShot += this.burstParticles(frameTimeLeft);\n\n            this.spentParticle = 0.0;\n            shotsToMake -= 1.0;\n\n            if (this.fixedShots != null && ++this.shotsMade >= this.fixedShots) {\n                this.emitter.disactivate();\n                break;\n            }\n        }\n\n        this.spentParticle = shotsToMake;\n\n        return particlesShot;\n    }\n}\n","'use strict';\n\nimport { Generator } from './Generator'\n\nexport class GeneratorDist extends Generator {\n    constructor(emitter, model) {\n        super(emitter);\n        this.model = model;\n\n        this.initiate();\n    }\n\n    initiate() {\n        super.initiate();\n\n        this.startPhase = 1;\n        this.burstSize = 1;\n        this.segment = 0;\n\n        if (this.model.init) {\n            this.model.init(this);\n        }\n\n        this.spentSegment = this.startPhase;\n    }\n\n    update(dt, frameInterp) {\n        if (this.model.update) {\n            this.model.update(this, dt);\n        }\n\n        let distFromPrevFrame = frameInterp.positionDisplaceLength;\n        let particlesShot = 0;\n\n        if (this.segment < 0.0001)\n            return;\n\n        let spentSegmentsFromPrevFrame = distFromPrevFrame / this.segment;\n        let shotsToMake = this.spentSegment + spentSegmentsFromPrevFrame;\n\n        let framePosition = spentSegmentsFromPrevFrame < 0.001 ?\n            1.0 - this.spentSegment : (1.0 - this.spentSegment) / spentSegmentsFromPrevFrame;\n\n        while (shotsToMake >= 1.0) {\n            frameInterp.set(framePosition);\n\n            particlesShot += this.burstParticles(dt * (1.0 - framePosition));\n\n            framePosition += 1.0 / spentSegmentsFromPrevFrame;\n            shotsToMake -= 1.0;\n        }\n\n        this.spentSegment = shotsToMake;\n\n        return particlesShot;\n    }\n}\n","'use strict';\n\nexport class TerminatorCondit {\n    constructor(emitter, model) {\n        this.emitter = emitter;\n        this.model = model;\n    }\n\n    initiate() {\n        if (this.model.init) {\n            this.model.init(this);\n        }\n    }\n\n    update(dt) {\n        if (this.modelupdate) {\n            this.model.update(this, dt);\n        }\n    }\n\n    checkParticle(particle) {\n        return this.model.checkParticle(this, particle);\n    }\n}\n","'use strict';\n\n//import * as assert from 'assert'\n\nexport class EmitterParticlesPool {\n    constructor(maxParticlesCount, createParticle) {\n        this.maxParticlesCount = maxParticlesCount;\n        this.createParticle = createParticle;\n        this.numParticles = 0;\n        this.inactiveParticles = [];\n    }\n\n    aquireParticle() {\n        if (this.numParticles >= this.maxParticlesCount)\n            return null;\n\n        ++this.numParticles;\n\n        if (this.inactiveParticles.length > 0)\n            return this.inactiveParticles.pop();\n        else\n            return this.createParticle();\n    }\n\n    releaseParticle(particle) {\n        this.inactiveParticles.push(particle);\n        //assert.equal(this.numParticles > 0, true, \"Released particle which wasn't aquired.\");\n\n        --this.numParticles;\n    }\n}\n","'use strict';\n\nimport * as math from './Math'\nimport { FrameInterpolator } from './FrameInterpolator';\n\nexport class Emitter {\n\tconstructor(effect, particlesPool, model) {\n\t\tvar thisEmitter = this;\n\t\tthis.effect = effect;\n\t\tthis.particlesPool = particlesPool;\n\t\tthis.model = model;\n\n\t\tthis.position = [];\n\t\tthis.prevPosition = [];\n\t\tthis.rotation = [];\n\t\tthis.prevRotation = [];\n\n\t\tthis.activeParticles = [];\n\t\tthis.inactiveParticles = [];\n\n\t\tthis.generators = [];\n\t\tthis.terminators = [];\n\t\t//this.attachedEmitterImpls = [];\n\t\tthis.velocity = [];\n\n\t\tthis.generatorsPaused = false;\n\n\t\tthis.frameInterp = new FrameInterpolator(this);\n\n\t\tthis.model.initEmitter(this);\n\n\t\t/*for (var partIndex = 0; partIndex < this.maxParticles; ++partIndex) {\n\t\t\tvar particle = new Particle();\n\n\t\t\tfor (var emitterIndex = 0; emitterIndex < this.attachedEmitterImpls.length; ++emitterIndex) {\n\t\t\t\tvar attachedEmitterImpl = this.attachedEmitterImpls[emitterIndex];\n\t\t\t\tparticle.attachEmitter(attachedEmitterImpl.impl, attachedEmitterImpl.props);\n\t\t\t}\n\n\t\t\tthis.inactiveParticles.push(particle);\n\t\t}*/\n\t}\n\n\taddGeneratorModel(GeneratorClass, generatorModel) {\n\t\tthis.generators.push(new GeneratorClass(this, generatorModel));\n\t}\n\n\taddTerminatorModel(TerminatorClass, terminatorModel) {\n\t\tthis.terminators.push(new TerminatorClass(this, terminatorModel));\n\t}\n\n\tinitiate(position, rotation, options) {\n\t\tthis._release();\n\n\t\tmath.copyv3(this.position, position ? position : [0, 0, 0]);\n\t\tmath.copyv3(this.prevPosition, this.position);\n\t\tmath.copyq(this.rotation, rotation ? rotation : [0, 0, 0, 1]);\n\t\tmath.copyq(this.prevRotation, this.rotation);\n\n\t\tthis.time = 0.0;\n\t\tthis.prevPositionTime = 0.0;\n\t\tthis.active = true;\n\t\tthis.paused = false;\n\t\tthis.generatorsPaused = false;\n\t\tmath.setv3(this.velocity, 0, 0, 0);\n\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\n\t\tthis.generators.forEach(function(generator) {\n\t\t\tgenerator.initiate();\n\t\t});\n\n\t\tthis.terminators.forEach(function(terminator) {\n\t\t\tterminator.initiate();\n\t\t});\n\n\t\tthis.update(0);\n\t}\n\t\n\tupdate(dt, position, rotation) {\n\n\t\tthis.prevPositionTime = this.time;\n\n\t\tif (position) {\n\t\t\tmath.copyv3(this.prevPosition, this.position);\n\t\t\tif (dt > 0.0001) {\n\t\t\t\tmath.subv3(this.velocity, position, this.prevPosition);\n\t\t\t\tmath.divv3scalar(this.velocity, this.velocity, dt);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmath.setv3(this.velocity, 0, 0, 0);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tmath.setv3(this.velocity, 0, 0, 0);\n\t\t}\n\n\t\tif (rotation)\n\t\t{\n\t\t\tmath.copyq(this.prevRotation, this.rotation);\n\t\t}\n\n\t\tif (this.paused) return;\n\n\t\tvar particlesShot;\n\n\t\tif (this.active && !this.generatorsPaused) {\n\t\t\tlet frameInterp = this.frameInterp;\n\t\t\tframeInterp.begin(dt, position, rotation);\n\t\t\tthis.generators.forEach(function(generator) {\n\t\t\t\tparticlesShot += generator.update(dt, frameInterp);\n\t\t\t})\n\t\t\tframeInterp.end();\n\t\t}\n\t\telse {\n\t\t\tif (position)\n\t\t\t\tmath.copyv3(this.position, position);\n\n\t\t\tif (rotation)\n\t\t\t\tmath.copyq(this.rotation, rotation);\n\n\t\t\tparticlesShot = 0;\n\t\t\tthis.time += dt;\n\t\t}\n\n\t\tfor (var partIndex = particlesShot; partIndex < this.activeParticles.length;) {\n\t\t\tvar particle = this.activeParticles[partIndex];\n\n\t\t\tif (!particle.waitingForDelete) {\n\t\t\t\tparticle.update(dt);\n\n\t\t\t\tlet terminate = false;\n\t\t\t\tfor (let termIndex = 0; termIndex < this.terminators.length; ++termIndex) {\n\t\t\t\t\tif (this.terminators[termIndex].checkParticle(this.activeParticles[partIndex])) {\n\t\t\t\t\t\tterminate = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (terminate) {\n\t\t\t\t\tparticle.onTerminated();\n\n\t\t\t\t\tif (this._killParticleIfReady(partIndex))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparticle.updateAttachedEmitters(dt);\n\n\t\t\t\tif (this._killParticleIfReady(partIndex))\n\t\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t++partIndex;\n\t\t}\n\t};\n\n\tshootParticle(firstInBurst, simulateTime) {\n\t\tlet particle = this.particlesPool.aquireParticle();\n\n\t\tif (!particle)\n\t\t\treturn null;\n\n\t\tthis.activeParticles.unshift(particle);\n\n\t\tif (firstInBurst) {\n\t\t\tthis.model.initParticle(this, particle);\n\t\t} else {\n\t\t\tthis.model.burstInitParticle(this, particle);\n\t\t}\n\n\t\tthis.model.updateParticle(this, particle, simulateTime);\n\n\t\treturn particle;\n\t}\n\n\tdisactivate() {\n\t\tthis.active = false;\n\t}\n\n\t//draw(context, camera) {\n\t//\tthis.construct.draw(context, camera);\n\t//}\n\n\t//fillGeometryBuffers(cameraRight, cameraUp, cameraDir, renderBuffer) {\n\t//\tthis.construct.fillGeometryBuffers(cameraRight, cameraUp, cameraDir, renderBuffer);\n\t//}\n\n\tresetPosition(position, rotation) {\n\t\tthis.prevPositionTime = this.time;\n\n\t\tif (position) {\n\t\t\tmath.copyv3(this.prevPosition, this.position);\n\t\t\tmath.copyv3(this.position, position);\n\t\t}\n\n\t\tif (rotation) {\n\t\t\tmath.copyq(this.prevRotation, this.rotation);\n\t\t\tmath.copyq(this.rotation, rotation);\n\t\t}\n\t}\n\n\t//attachEmitter(emitterImpl, emitterProps) {\n\t//\tthis.attachedEmitterImpls.push({ impl: emitterImpl, props: emitterProps });\n\t//}\n\n\tgetNumParticles() {\n\t\treturn this.activeParticles.length;\n\t}\n\n\t_killParticleIfReady(index) {\n\t\tvar particle = this.activeParticles[index];\n\t\tvar ready = true;\n\n\t\tfor (var emitterIndex = 0; emitterIndex < particle.attachedEmitters.length; ++emitterIndex) {\n\t\t\tvar emitter = particle.attachedEmitter(emitterIndex);\n\n\t\t\tif (emitter.activated() || emitter.activeParticles.length > 0) {\n\t\t\t\tready = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (ready) {\n\t\t\tthis.activeParticles.splice(index, 1);\n\t\t\tthis.particlesPool.releaseParticle(particle);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_release() {\n\t\twhile (this.activeParticles.length > 0) {\n\t\t\tlet particle = this.activeParticles.pop();\n\t\t\tfor (let i = 0; i < particle.attachedEmitters.length; ++i) {\n\t\t\t\tparticle.attachedEmitter(i)._release();\n\t\t\t}\n\t\t\tthis.particlesPool.releaseParticle(particle);\n\t\t}\n\t}\n\n\t\n}\n","'use strict';\n\nimport * as math from './Math'\n\nexport class Effect {\n\tconstructor(effectModel, position, rotation) {\n\t\tthis.model = effectModel;\n\n\t\tthis.position = [];\n\t\tthis.rotation = [];\n\t\tthis.emitters = [];\n\t\t//this.frameTimeSpent = 0.0;\n\t\t//this.time = 0.0;\n\t\t//this.frameTime = 0.0; // from IMPL\n\t\t//this.presimTime = 0.0; // from IMPL\n\n\t\tthis._initiate(position, rotation);\n\t\t\n\t\tthis.model.initSystemProps(this); //IMPL\n\t\t\n\t\tthis._zeroUpdate();\n\t}\n\n\taddEmitter(emitter) {\n\t\temitter.initiate(this.position, this.rotation);\n\t\tthis.emitters.push(emitter);\n\t}\n\n\trestart(position, rotation) {\n\n\t\tthis._initiate(position ? position : this.position, rotation ? rotation : this.rotation);\n\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].restart(this.position, this.rotation);\n\t\t}\n\n\t\tthis._zeroUpdate();\n\t}\n\n\tupdate(dt, position, rotation) {\n\t\tvar updatedTime = 0.0;\n\t\tvar framePosition = this.position.slice();\n\t\tvar frameRotation = this.rotation.slice();\n\n\t\tif (position && math.equalv3_(position, this.position))\n\t\t\tposition = null;\n\n\t\tif (rotation && math.equalq_(rotation, this.rotation))\n\t\t\trotation = null;\n\n\t\twhile ((dt - updatedTime) + this.frameTimeSpent >= this.frameTime) {\n\t\t\tvar timeBeforeFrame = this.time;\n\t\t\tupdatedTime += this.frameTime - this.frameTimeSpent;\n\t\t\tvar locationInterp = updatedTime / dt\n\n\t\t\tif (position)\n\t\t\t\tmath.lerpv3(framePosition, this.position, position, locationInterp);\n\n\t\t\tif (rotation)\n\t\t\t\tmath.slerpq(frameRotation, this.rotation, rotation, locationInterp);\n\n\t\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\t\tthis.emitters[i].update(this.frameTime, framePosition, frameRotation);\n\n\t\t\t\tthis.time = timeBeforeFrame;\n\t\t\t}\n\t\t\t\n\t\t\tthis.frameTimeSpent = 0.0;\n\t\t\tthis.time = timeBeforeFrame + this.frameTime;\n\t\t}\n\n\t\tif (position)\n\t\t\tmath.copyv3(this.position, position);\n\n\t\tif (rotation)\n\t\t\tmath.copyq(this.rotation, rotation);\n\n\t\tthis.frameTimeSpent += dt - updatedTime;\n\t}\n\n\tresetPosition(position, rotation) {\n\t\tif (position)\n\t\t\tmath.copyv3(this.position, position);\n\n\t\tif (rotation)\n\t\t\tmath.copyq(this.rotation, rotation);\n\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].resetPosition(this.position, this.rotation);\n\t\t}\n\t}\n/*\n\tsetPropertyInAllEmitters(name, value) {\n\t\tvar propName = \"_\".concat(name);\n\n\t\tif (value instanceof Array) {\n\t\t\tif (value.length == 2) {\n\t\t\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\t\t\tmath.copyv2(this.emitters[i][propName], value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\t\t\tmath.copyv3(this.emitters[i][propName], value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\t\tthis.emitters[i][propName] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\tpauseAllEmitters() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].pause();\n\t\t}\n\t}\n\n\tunpauseAllEmitters() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].unpause();\n\t\t}\n\t}\n\n\tareAllEmittersPaused() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tif (!this.emitters[i].paused())\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpauseGeneratorsInAllEmitters() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].pauseGenerators();\n\t\t}\n\t}\n\n\tunpauseGeneratorsInAllEmitters() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].unpauseGenerators();\n\t\t}\n\t}\n\n\tareGeneratorsInAllEmittersPaused() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tif (!this.emitters[i].generatorsPaused())\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n*/\n\tgetNumParticles() {\n\t\tvar numParticles = 0;\n\t\t\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tnumParticles += this.emitters[i].getNumParticles();\n\t\t}\n\t\t\n\t\treturn numParticles;\n\t}\n\n\t_initiate(position, rotation) {\n\t\tthis.frameTimeSpent = 0.0;\n\t\tthis.time = 0.0;\n\n\t\tmath.copyv3(this.position, position ? position : [0, 0, 0]);\n\t\tmath.copyq(this.rotation, rotation ? rotation : [0, 0, 0, 1]);\n\t}\n\n\t_zeroUpdate() {\n\t\tfor (var i = 0; i < this.emitters.length; ++i) {\n\t\t\tthis.emitters[i].update(0, this.position, this.rotation);\n\t\t}\n\n\t\tthis.update(this.presimTime, this.position, this.rotation);\n\t}\n}\n"],"names":["equalv3_","a","b","equalv3eps_","eps","Math","abs","equalq_","equalqeps_","addv2","r","addv2_","addv2scalar","s","addv2scalar_","addv3","addv3_","addv3scalar","addv3scalar_","addq","addq_","subv2","subv2_","subv2scalar","subv2scalar_","subscalarv2","subscalarv2_","subv3","subv3_","subv3scalar","subv3scalar_","subscalarv3","subscalarv3_","mulv2","mulv2_","mulv3","mulv3_","divv2","divv2_","divv3","divv3_","dotv3_","dotq_","mulv2scalar","mulv2scalar_","divv2scalar","divv2scalar_","mulv3scalar","mulv3scalar_","divv3scalar","divv3scalar_","dotv2_","crossv3","ax","ay","az","bx","by","bz","crossv3_","lengthv2_","sqrt","lengthv2sq_","normalizev2","normalizev2_","lengthv3_","lengthv3sq_","normalizev3","normalizev3_","copyv2","copyv3","copyq","setv2","x","y","setv3","z","lerp_","i","lerpv2","lerpv2_","lerpv3","lerpv3_","slerpq","cosTheta","negq","Number","EPSILON","angle","acos_","mulqscalar","mulqscalar_","sin_","slerpq_","acos","sin","cos_","cos","negv2","negv2_","negv3","negv3_","negq_","deg2rad_","degrees","PI","rad2deg_","radians","sign_","value","quat2axes","q","x2","y2","z2","xy","xz","yz","wz","wy","wx","axes2quat","tr","S","axisangle2quat","ha","axisangle2quat_","applyv3quat","v","qx","qy","qz","qw","ix","iy","iz","iw","mulq","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","transform","pos","degree","scale","rad","invtransform","FrameInterpolator","emitter","effect","position","startEmitterPosition","endEmitterPosition","rotation","startEmitterRotation","endEmitterRotation","dt","endPosition","endRotation","startEffectTime","time","startEmitterTime","endEffectTime","endEmitterTime","math","interp","ctx","Generator","burstPos","burstCount","frameTimeToSimulate","particlesShot","intBurstCount","max","trunc","partIndex","particle","shootParticle","exports","GeneratorPeriodic","model","initiate","startPhase","fixedTime","fixedShots","burstSize","rate","init","spentParticle","shotsMade","frameInterp","update","frameTimeLeft","shotsToMake","spentTime","set","emitterTime","disactivate","burstParticles","GeneratorDist","segment","spentSegment","distFromPrevFrame","positionDisplaceLength","spentSegmentsFromPrevFrame","framePosition","TerminatorCondit","modelupdate","checkParticle","EmitterParticlesPool","maxParticlesCount","createParticle","numParticles","inactiveParticles","length","pop","push","Emitter","particlesPool","prevPosition","prevRotation","activeParticles","generators","terminators","velocity","generatorsPaused","initEmitter","GeneratorClass","generatorModel","TerminatorClass","terminatorModel","options","_release","prevPositionTime","active","paused","Object","assign","forEach","generator","terminator","begin","end","waitingForDelete","terminate","termIndex","onTerminated","_killParticleIfReady","updateAttachedEmitters","firstInBurst","simulateTime","aquireParticle","unshift","initParticle","burstInitParticle","updateParticle","index","ready","emitterIndex","attachedEmitters","attachedEmitter","activated","splice","releaseParticle","Effect","effectModel","emitters","_initiate","initSystemProps","_zeroUpdate","restart","updatedTime","slice","frameRotation","frameTimeSpent","frameTime","timeBeforeFrame","locationInterp","resetPosition","getNumParticles","presimTime"],"mappings":"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"}